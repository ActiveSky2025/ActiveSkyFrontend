<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700;900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#13a4ec",
              "background-light": "#f6f7f8",
              "background-dark": "#101c22",
            },
            fontFamily: {
              display: ["Lexend"],
            },
            borderRadius: {
              DEFAULT: "1rem",
              lg: "2rem",
              xl: "3rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    <title>ActiveSky</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../assets/images/logo.jpg"
    />
    <a href="index.html"></a>
  </head>
  <body
    class="font-display bg-background-light dark:bg-background-dark text-black dark:text-white"
  >
    <div class="flex h-screen w-full flex-col">
      <!-- Header -->
     <header class="flex items-center justify-between border-b border-black/10 dark:border-white/10 px-6 py-4">
        <a href="index.html" class="flex items-center gap-3 text-black dark:text-white hover:opacity-80 transition-opacity cursor-pointer">
          <img src="../assets/images/logo.jpg" alt="Logo" class="h-8 w-8 rounded-lg">
          <h2 class="text-xl font-bold">ActiveSky</h2>
        </a>
        <div id="nav-auth" class="flex items-center gap-4">
          <a href="login.html" class="text-sm font-medium hover:text-primary">Iniciar sesión</a>
        </div>
      </header> 

      <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside
          class="w-90 flex-shrink-0 border-r border-black/10 dark:border-white/10 p-6 flex flex-col gap-6 overflow-y-auto"
        >
          <!-- Calendario -->
          <div>
            <h2 class="text-lg font-bold mb-3">Selecciona un día</h2>
            <input
              type="text"
              id="fecha-input"
              class="form-input w-full rounded border border-black/10 dark:border-white/10 bg-transparent px-4 py-2 text-sm"
              placeholder="Selecciona fecha"
              readonly
            />
            <div id="calendar-inline" class="mt-3"></div>
          </div>

          <!-- Actividades -->
          <div>
            <h2 class="text-lg font-bold mb-3">Actividades al aire libre</h2>
            <div class="grid grid-cols-2 gap-3">
              <!-- Running -->
              <label
                for="running"
                class="activity-card flex flex-col gap-2 rounded border border-black/10 dark:border-white/10 p-3 bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer"
              >
                <input
                  type="radio"
                  name="activity"
                  id="running"
                  value="running"
                  class="hidden activity-radio"
                />
               
                <div>
                  <h3 class="font-bold text-xs">Running</h3>
                  <p class="text-xs text-black/50 dark:text-white/50">Corre</p>
                </div>
              </label>

              <!-- Cycling -->
              <label
                for="cycling"
                class="activity-card flex flex-col gap-2 rounded border border-black/10 dark:border-white/10 p-3 bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer"
              >
                <input
                  type="radio"
                  name="activity"
                  id="cycling"
                  value="cycling"
                  class="hidden activity-radio"
                />
              
                <div>
                  <h3 class="font-bold text-xs">Ciclismo</h3>
                  <p class="text-xs text-black/50 dark:text-white/50">
                    Pedalea
                  </p>
                </div>
              </label>

              <!-- Hiking -->
              <label
                for="hiking"
                class="activity-card flex flex-col gap-2 rounded border border-black/10 dark:border-white/10 p-3 bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer"
              >
                <input
                  type="radio"
                  name="activity"
                  id="hiking"
                  value="hiking"
                  class="hidden activity-radio"
                />
                
                <div>
                  <h3 class="font-bold text-xs">Hiking</h3>
                  <p class="text-xs text-black/50 dark:text-white/50">
                    Explora
                  </p>
                </div>
              </label>

              <!-- Camping -->
              <label
                for="camping"
                class="activity-card flex flex-col gap-2 rounded border border-black/10 dark:border-white/10 p-3 bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer"
              >
                <input
                  type="radio"
                  name="activity"
                  id="camping"
                  value="camping"
                  class="hidden activity-radio"
                />
                
                <div>
                  <h3 class="font-bold text-xs">Camping</h3>
                  <p class="text-xs text-black/50 dark:text-white/50">Acampa</p>
                </div>
              </label>
            </div>
          </div>

          <!-- Resumen de Selección -->
          <div id="selection-summary" class="mt-auto hidden">
            <h2 class="text-lg font-bold mb-3">Tu Selección</h2>
            <div
              class="flex flex-col gap-3 rounded border border-black/10 dark:border-white/10 p-4 bg-background-light dark:bg-background-dark"
            >
              <div class="flex items-center gap-3">
                <svg
                  id="summary-icon"
                  class="text-primary w-5 h-5"
                  fill="currentColor"
                  viewBox="0 0 256 256"
                ></svg>
                <div>
                  <h3 id="summary-activity" class="font-bold text-sm">-</h3>
                  <p
                    id="summary-description"
                    class="text-xs text-black/50 dark:text-white/50"
                  >
                    -
                  </p>
                </div>
              </div>
              <div
                class="border-t border-black/10 dark:border-white/10 pt-3 flex flex-col gap-2"
              >
                <div class="flex items-center gap-2 text-xs">
                  <svg
                    class="w-3.5 h-3.5 text-black/50 dark:text-white/50"
                    fill="currentColor"
                    viewBox="0 0 256 256"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM48,48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48ZM208,208H48V96H208V208Z"
                    ></path>
                  </svg>
                  <span class="font-medium">Fecha:</span>
                  <span id="summary-date">-</span>
                </div>
                <div class="flex items-center gap-2 text-xs">
                  <svg
                    class="w-3.5 h-3.5 text-black/50 dark:text-white/50"
                    fill="currentColor"
                    viewBox="0 0 256 256"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M128,16a88.1,88.1,0,0,0-88,88c0,35.65,15.82,65.73,40,84.31a169.34,169.34,0,0,0,45.83,23.55a8,8,0,0,0,4.34,0A169.34,169.34,0,0,0,176,188.31c24.18-18.58,40-48.66,40-84.31A88.1,88.1,0,0,0,128,16Zm0,120a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z"
                    ></path>
                  </svg>
                  <span class="font-medium">Ubicación:</span>
                  <span id="summary-location">-</span>
                </div>
                <div class="flex items-center gap-2 text-xs">
                  <span class="font-medium">Lat:</span>
                  <span id="summary-lat">-</span>
                  <span class="font-medium ml-2">Lon:</span>
                  <span id="summary-lon">-</span>
                </div>
              </div>
            </div>
          </div>
        </aside>

        <!-- Main Content - Map -->
        <main class="flex-1 p-4 @container">
          <div
            class="relative flex h-full min-h-[320px] w-full flex-col justify-between overflow-hidden rounded"
          >
            <!-- Mapa -->
            <div id="map" class="absolute inset-0 w-full h-full"></div>

            <!-- Search Box -->
            <div class="relative w-full max-w-sm z-10 m-4">
              <div
                class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4"
              >
                <svg
                  class="text-black/50 dark:text-white/50"
                  fill="currentColor"
                  height="20px"
                  viewBox="0 0 256 256"
                  width="20px"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"
                  ></path>
                </svg>
              </div>
              <input
                id="search-input"
                class="form-input w-full rounded border-none bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm pl-11 pr-4 py-3 text-sm text-black dark:text-white placeholder-black/50 dark:placeholder-white/50 focus:ring-2 focus:ring-primary"
                placeholder="🔍 Buscar lugar..."
                type="text"
              />
            </div>

            <!-- Controles del mapa y botones -->
            <div
              class="absolute bottom-4 right-4 flex flex-col items-end gap-3 z-10"
            >
              <!-- Zoom controls -->
              <div
                class="flex flex-col rounded bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm shadow-lg"
              >
                <button
                  id="zoom-in"
                  class="flex h-10 w-10 items-center justify-center text-black dark:text-white hover:bg-black/5 dark:hover:bg-white/5"
                >
                  <svg
                    fill="currentColor"
                    height="24px"
                    viewBox="0 0 256 256"
                    width="24px"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"
                    ></path>
                  </svg>
                </button>
                <div class="h-px w-full bg-black/10 dark:bg-white/10"></div>
                <button
                  id="zoom-out"
                  class="flex h-10 w-10 items-center justify-center text-black dark:text-white hover:bg-black/5 dark:hover:bg-white/5"
                >
                  <svg
                    fill="currentColor"
                    height="24px"
                    viewBox="0 0 256 256"
                    width="24px"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128Z"
                    ></path>
                  </svg>
                </button>
              </div>

              <!-- Action buttons -->
              <div class="flex gap-2">
                <button
                  id="btn-reset"
                  class="rounded bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm text-black dark:text-white shadow-lg hover:bg-black/5 dark:hover:bg-white/5 px-4 py-2 text-sm font-medium"
                >
                  🔄 Limpiar
                </button>
                <button
                  id="btn-consultar"
                  disabled
                  class="rounded bg-primary text-white backdrop-blur-sm shadow-lg hover:bg-primary/90 px-4 py-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  🌦️ Consultar Clima
                </button>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="../js/config.js"></script>
    <script>
      // Cargar Google Maps dinámicamente
      const script = document.createElement("script");
      script.src = `https://maps.googleapis.com/maps/api/js?key=${CONFIG.GOOGLE_MAPS_KEY}&libraries=places&callback=initMap`;
      script.async = true;
      script.defer = true;
      document.head.appendChild(script);
    </script>
    <script src="../js/select2.js"></script>
  </body>
</html>
